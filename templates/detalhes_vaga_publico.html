{% extends "base.html" %}

{% block title %}{{ vaga.titulo }} - Detalhes da Vaga{% endblock %}

{% block content %}
<div >
    <div class="max-w-4xl mx-auto px-4">
        <!-- Header -->
        <div class="mb-8">
            
            
            <div class="bg-white rounded-3xl p-8 shadow-xl border border-gray-100 relative">
                <div class="flex items-start gap-8">
                    <div class="w-24 h-24 bg-gradient-to-br  rounded-3xl flex items-center justify-center flex-shrink-0 shadow-lg transform -rotate-3 hover:rotate-0 transition-transform duration-300">
                        <img src="{{ url_for('static', filename='/img/jobs.png') }}">
                    </div>
                    <div class="flex-1">
                        <h1 class="text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4">{{ vaga.titulo }}</h1>
                        <div class="flex flex-wrap gap-4 mb-6">
                            <span class="flex items-center gap-2 bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 px-4 py-2 rounded-full font-semibold shadow-sm">
                                <img src="{{ url_for('static', filename='/img/business.png') }}" class="emojis"> {{empresa.nome }}
                            </span>

                            <span class="flex items-center gap-2 bg-gradient-to-r from-green-100 to-emerald-200 text-green-800 px-4 py-2 rounded-full font-semibold shadow-sm">
                                <img src="{{ url_for('static', filename='/img/money.png') }}" class="emojis">
                                {% if vaga.salario_oferecido %}
                                    R$ {{ "{:,.2f}".format(vaga.salario_oferecido) }}
                                {% else %}
                                    A combinar
                                {% endif %}
                            </span>

                            <span class="flex items-center gap-2 bg-gradient-to-r from-blue-100 to-indigo-200 text-blue-800 px-4 py-2 rounded-full font-semibold shadow-sm">
                                <img src="{{ url_for('static', filename='/img/maps.png') }}" class="emojis"> {{ vaga.tipo_vaga }}
                            </span>
                        </div>
                        
                        {% if vaga.endereco_vaga and vaga.tipo_vaga in ['Presencial', 'Híbrida'] %}
                        <div class="flex items-center gap-3 text-gray-700 mb-4 bg-gray-50 px-4 py-3 rounded-xl border border-gray-200">
                            <img src="{{ url_for('static', filename='/img/localizacao.png') }}" class="emojis">
                            <span class="font-medium">{{ vaga.endereco_vaga }}</span>
                        </div>
                        {% endif %}

                        <div class="absolute top-4 right-4">
                            <a href="{{ url_for('vagas.index') }}" 
                            class="inline-flex items-center gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 hover:text-purple-800 font-semibold px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105">
                                <span class="text-lg">X</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid gap-8 lg:grid-cols-3">
            <!-- Coluna Principal -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Descrição -->
                <div class="bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                        <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
                            <img src="{{ url_for('static', filename='/img/edit.png') }}" class="emojis">
                        </div>
                        Sobre esta Oportunidade
                    </h2>
                    <div class="text-gray-700 leading-relaxed whitespace-pre-wrap text-base">
                        {{ vaga.descricao or 'Descrição não disponível.' }}
                    </div>
                </div>

                <!-- Requisitos -->
                <div class="bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                        <div class="w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center">
                            <img src="{{ url_for('static', filename='/img/principais.png') }}" class="emojis">
                        </div>
                        Requisitos Essenciais
                    </h2>
                    <div class="text-gray-700 leading-relaxed whitespace-pre-wrap text-base">
                        {{ vaga.requisitos or 'Requisitos não informados.' }}
                    </div>
                </div>

                <!-- Diferenciais -->
                {% if vaga.diferenciais %}
                <div class="bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                        <div class="w-10 h-10 bg-yellow-100 rounded-xl flex items-center justify-center">
                            <img src="{{ url_for('static', filename='/img/diferente.png') }}" class="emojis">
                        </div>
                        Diferenciais
                    </h2>
                    <div class="text-gray-700 leading-relaxed whitespace-pre-wrap text-base">
                        {{ vaga.diferenciais }}
                    </div>
                </div>
                {% endif %}
            </div>

            <!-- Sidebar -->
            <div class="space-y-6">
                <!-- Empresa -->
                <div class="bg-white rounded-3xl p-6 shadow-lg border border-gray-100">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
                        <div class="w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">
                            <img src="{{ url_for('static', filename='/img/business.png') }}" class="emojis">
                        </div>
                        Sobre a Empresa
                    </h3>
                    <div class="text-gray-700">
                        <p class="font-bold text-purple-600 mb-3 text-lg">{{ vaga.titulo }}</p>
                        <p class="text-gray-600 leading-relaxed">
                            Empresa focada em inovação e desenvolvimento de soluções tecnológicas modernas e escaláveis.
                        </p>
                    </div>
                </div>

                <!-- Botão de candidatura -->
                <div class="bg-white rounded-3xl p-6 shadow-lg border border-gray-100">
                    <a href="{{ url_for('candidaturas.candidatar', vaga_id=vaga.id) }}" 
                       class="block w-full bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white font-bold py-5 px-6 rounded-2xl text-center transition-all duration-300 transform hover:scale-105 shadow-xl">
                        <span class="flex items-center justify-center gap-3 text-lg">
                            <img src="{{ url_for('static', filename='/img/rocket.png') }}" class="emojis">
                            Candidatar-se Agora
                        </span>
                    </a>
                </div>

                <!-- Informações adicionais -->
                <div class="bg-gradient-to-br from-indigo-50 via-blue-50 to-purple-50 rounded-3xl p-6 border border-indigo-200 shadow-lg">
                    <h4 class="font-bold text-indigo-800 mb-4 flex items-center gap-2">
                        <img src="{{ url_for('static', filename='/img/info1.png') }}" class="emojis"> Detalhes da Oportunidade
                    </h4>
                    <div class="space-y-4">
                        <div class="bg-white rounded-xl p-4 shadow-sm">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600 flex items-center gap-2">
                                    <img src="{{ url_for('static', filename='/img/home.png') }}" class="emojis"> Modalidade:
                                </span>
                                <span class="font-bold text-gray-800">{{ vaga.tipo_vaga }}</span>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-4 shadow-sm">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600 flex items-center gap-2">
                                    <img src="{{ url_for('static', filename='/img/money.png') }}" class="emojis"> Salário:
                                </span>
                                <span class="font-bold text-green-600 text-lg">
                                    {% if vaga.salario_oferecido %}
                                        R$ {{ "{:,.2f}".format(vaga.salario_oferecido) }}
                                    {% else %}
                                        A combinar
                                    {% endif %}
                                </span>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-4 shadow-sm">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600 flex items-center gap-2">
                                    <img src="{{ url_for('static', filename='/img/calendar.png') }}" class="emojis"> Publicada em:
                                </span>
                                <span class="font-bold text-gray-800">{{ vaga.data_criacao.strftime('%d/%m/%Y') if vaga.data_criacao else 'N/A' }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
